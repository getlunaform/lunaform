

# identity
`import "github.com/zeebox/terraform-server/backend/identity"`

* [Overview](#pkg-overview)
* [Index](#pkg-index)

## <a name="pkg-overview">Overview</a>



## <a name="pkg-index">Index</a>
* [type APIKey](#APIKey)
* [type Group](#Group)
* [type Provider](#Provider)
  * [func NewDatabaseIdentityProvider(db database.Database) (idp Provider, err error)](#NewDatabaseIdentityProvider)
  * [func NewMemoryIdentityProvider() Provider](#NewMemoryIdentityProvider)
* [type SSHKey](#SSHKey)
* [type User](#User)
  * [func (u *User) ChangePassword(password string) (err error)](#User.ChangePassword)
  * [func (u *User) LoggedIn() bool](#User.LoggedIn)
  * [func (u *User) Login(password string) bool](#User.Login)
  * [func (u *User) Logout()](#User.Logout)


#### <a name="pkg-files">Package files</a>
[database.go](/src/github.com/zeebox/terraform-server/backend/identity/database.go) [group.go](/src/github.com/zeebox/terraform-server/backend/identity/group.go) [memory.go](/src/github.com/zeebox/terraform-server/backend/identity/memory.go) [provider.go](/src/github.com/zeebox/terraform-server/backend/identity/provider.go) [user.go](/src/github.com/zeebox/terraform-server/backend/identity/user.go) 






## <a name="APIKey">type</a> [APIKey](/src/target/user.go?s=1232:1410#L55)
``` go
type APIKey struct {
    Value                string
    DateCreated          time.Time
    DateExpired          time.Time
    ValidationPeriod     time.Duration
    AutomaticallyExpired bool
}
```
APIKey for a user, to allow them to log in without a username and password










## <a name="Group">type</a> [Group](/src/target/group.go?s=73:92#L4)
``` go
type Group struct{}
```
Group of users which can have a role attached to it










## <a name="Provider">type</a> [Provider](/src/target/provider.go?s=156:459#L6)
``` go
type Provider interface {
    IsEditable() bool
    IsFederated() bool

    CreateUser(username string, password string) (User, error)
    ReadUser(username string) (User, error)

    LoginUser(user User, password string) bool
    ChangePassword(user User, password string) error

    ConsumeEndpoint(payload []byte) error
}
```
Provider is a specialised database concerned exclusively
with managing Users and a source of authority for their
authentication.







### <a name="NewDatabaseIdentityProvider">func</a> [NewDatabaseIdentityProvider](/src/target/database.go?s=174:254#L9)
``` go
func NewDatabaseIdentityProvider(db database.Database) (idp Provider, err error)
```
NewDatabaseIdentityProvider is not yet implemented and will return an error


### <a name="NewMemoryIdentityProvider">func</a> [NewMemoryIdentityProvider](/src/target/memory.go?s=227:268#L11)
``` go
func NewMemoryIdentityProvider() Provider
```
NewMemoryIdentityProvider creates a memory provider stored in memory.
This is very volatile and should only be used for development or testing.





## <a name="SSHKey">type</a> [SSHKey](/src/target/user.go?s=1012:1152#L46)
``` go
type SSHKey struct {
    Public          []byte
    Private         []byte
    PublicPath      string
    PrivatePath     string
    ServerGenerated bool
}
```
SSHKey contains both the public and private sections, and the location of the sshkey on disk










## <a name="User">type</a> [User](/src/target/user.go?s=122:299#L9)
``` go
type User struct {
    IsEditable bool
    Username   string
    Password   string
    APIKeys    []*APIKey
    SSHKeys    []*SSHKey
    Idp        Provider
    // contains filtered or unexported fields
}
```
User who can log in, be assigned to groups, and is defined within an IdP.










### <a name="User.ChangePassword">func</a> (\*User) [ChangePassword](/src/target/user.go?s=691:749#L37)
``` go
func (u *User) ChangePassword(password string) (err error)
```
ChangePassword for a user if the IdP allows password changes




### <a name="User.LoggedIn">func</a> (\*User) [LoggedIn](/src/target/user.go?s=572:602#L32)
``` go
func (u *User) LoggedIn() bool
```
LoggedIn returns true if the user is logged in




### <a name="User.Login">func</a> (\*User) [Login](/src/target/user.go?s=343:385#L21)
``` go
func (u *User) Login(password string) bool
```
Login a user with a plaintext password




### <a name="User.Logout">func</a> (\*User) [Logout](/src/target/user.go?s=473:496#L27)
``` go
func (u *User) Logout()
```
Logout a user








- - -
Generated by [godoc2md](http://godoc.org/github.com/davecheney/godoc2md)
